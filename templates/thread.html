{%extends 'base.html'%}

{% block title %}
  About page
{% endblock %}

{% block content %}
<div class = "container">
  <br/>
  <h1>{{ thread_details[0].title }}</h1>
  <p>Thread created: {{ thread_details[0].created }} by {{ thread_details[0].username }}</p>
</div>
<div class = "container">
  <ol class="list-group list-group-numbered">
    {% for message in messages %}
    <li class="list-group-item d-flex justify-content-between align-items-start">
      <div class="ms-2 me-auto">
        {{ message.content }}
        <div class="fw-bold">{{ message.username }}</div>
        {{ message.sent_at }}
      </div>
    </li>
    {% endfor %}
  </ol>
  {% if session.user_id %}
  <form action="/send" method="POST">
    <input type="hidden" name="id" value="{{ id }}">
    <div class="mb-3">
      <label for="exampleFormControlTextarea1" class="form-label">New message:</label>
      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name ="content"></textarea>
    </div>
    <button type="submit" class="btn btn-success">Send message</button>
  </form>
  {% endif %}
</div>
{% endblock %}